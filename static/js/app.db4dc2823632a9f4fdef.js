webpackJsonp([1],{"6QNt":function(e,t){},"9gH1":function(e,t){},ADgX:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("hI7A"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card"},[this.title?t("div",{staticClass:"card-header"},[this._v("\n    "+this._s(this.title)+"\n  ")]):this._e(),this._v(" "),t("div",{staticClass:"card-content"},[this._t("default")],2)])},staticRenderFns:[]};var a=n("VU/8")({name:"Card",props:["title"]},r,!1,function(e){n("ceEf")},null,null).exports,o={name:"Synthgraph",props:{synth:{required:!0}},components:{Card:a},data:function(){return{stepX:20,sinCosColor:"rgb(0, 243, 255)",sinColor:"rgb(144, 40, 59)",cosColor:"rgb(100, 100, 100)",backgroundColor:"transparent",axesColor:"#e2e2e2"}},computed:{width:function(){return(this.synth.sin.length-1)*this.stepX+2},height:function(){if(this.synth.sin){var e=this.synth.amplitude;return e+e/2}return 60},sinCos:function(){var e=this,t=[];return this.synth.sin.forEach(function(n,i){var s=n,r=e.synth.cosin[i],a=i,o=s*Math.cos(2*Math.PI*a)+r*Math.sin(2*Math.PI*a);t.push(o)}),t}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{staticClass:"synth-graph-card",attrs:{title:e.synth.name}},[e.synth.custom?n("div",{staticClass:"synth-graph"},[n("svg",{attrs:{width:"80vh",height:"60vh",viewBox:"0 0 "+e.width+" "+e.height}},[n("rect",{attrs:{fill:e.backgroundColor,width:e.width,height:e.height}}),e._v(" "),n("line",{attrs:{x1:"0",y1:e.height/2,x2:e.width,y2:e.height/2,stroke:e.axesColor,"stroke-width":"0.1"}}),e._v(" "),n("line",{attrs:{x1:"2",y1:"0",x2:"2",y2:e.height,stroke:e.axesColor,"stroke-width":"0.1"}}),e._v(" "),e._l(e.sinCos,function(t,i){return n("circle",{key:i+"-sincosDot",attrs:{r:"0.2",stroke:e.sinCosColor,"stroke-width":"0.2",cx:i*e.stepX+2,cy:-t+e.height/2}})}),e._v(" "),e._l(e.sinCos,function(t,i){return i?n("line",{key:i+"-sincosLine",attrs:{x1:(i-1)*e.stepX+2,y1:-e.sinCos[i-1]+e.height/2,x2:i*e.stepX+2,y2:-t+e.height/2,stroke:e.sinCosColor,"stroke-width":"0.1"}}):e._e()})],2)]):n("div",[e._v("\n  Only custom synthetizers can be represented by a graph\n")])])},staticRenderFns:[]};var u=n("VU/8")(o,c,!1,function(e){n("ADgX")},"data-v-7c29e570",null).exports,h={name:"SynthDetails",props:{synth:{required:!0}},components:{Card:a}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{staticClass:"synth-details",attrs:{title:e.synth.name+" ("+e.synth.type+")"}},["classic"!==e.synth.type?n("div",{staticClass:"app-container synth-conf"},[n("h3",[e._v(e._s(e.synth.name))]),e._v(" "),n("p",[e._v("Type: "+e._s(e.synth.type)+" synthetizer")]),e._v(" "),n("p",[e._v("Amplitude: "+e._s(e.synth.amplitude)+" Hz")]),e._v(" "),n("p",[e._v("Gain Variation: "+e._s(e.synth.configuration.gain||0))]),e._v(" "),n("p",[e._v("Samples: "+e._s(e.synth.sin.length))]),e._v(" "),"function"===e.synth.type?n("p",[e._v("Function: "+e._s(e.synth.function.toString()))]):e._e()]):e._e(),e._v(" "),e.synth.filter?n("div",{staticClass:"app-container synth-filter"},[n("h3",[e._v("Filter")]),e._v(" "),n("p",[e._v("Type:\n    "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.synth.filter.type,expression:"synth.filter.type"}],on:{input:function(t){e.synth.filter.updateType()},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.synth.filter,"type",t.target.multiple?n:n[0])}}},e._l(e.synth.filter.types,function(t,i){return n("option",{key:i},[e._v("\n        "+e._s(t)+"\n      ")])}))]),e._v(" "),n("p",[e._v("Frequency: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.synth.filter.frequency,expression:"synth.filter.frequency"}],attrs:{type:"number"},domProps:{value:e.synth.filter.frequency},on:{input:[function(t){t.target.composing||e.$set(e.synth.filter,"frequency",t.target.value)},function(t){e.synth.filter.updateFrequency()}]}})]),e._v(" "),n("p",[e._v("Gain: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.synth.filter.gain,expression:"synth.filter.gain"}],attrs:{type:"number"},domProps:{value:e.synth.filter.gain},on:{input:[function(t){t.target.composing||e.$set(e.synth.filter,"gain",t.target.value)},function(t){e.synth.filter.updateGain()}]}})]),e._v(" "),n("p",[e._v("Q: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.synth.filter.q,expression:"synth.filter.q"}],attrs:{type:"number"},domProps:{value:e.synth.filter.q},on:{input:[function(t){t.target.composing||e.$set(e.synth.filter,"q",t.target.value)},function(t){e.synth.filter.updateQ()}]}})])]):e._e()])},staticRenderFns:[]};var f=n("VU/8")(h,l,!1,function(e){n("atbg")},null,null).exports,p=n("UAuz"),d=n("btq/"),y={lowpass:new d.Filter("lowpass",1e3,25,9),highpass:new d.Filter("highpass",1e3,25,9),bandpass:new d.Filter("bandpass",1e3,25,9),lowshelf:new d.Filter("lowshelf",1e3,25,9),highshelf:new d.Filter("highshelf",1e3,25,9),peaking:new d.Filter("peaking",1e3,25,9),notch:new d.Filter("notch",1e3,25,9),allpass:new d.Filter("allpass",1e3,25,9)},v=[new p.SubstractiveSynthetizer("Synthetizer 1 (Classic Sine)",y.lowpass),new p.SubstractiveSynthetizer("Synthetizer 2 (Classic Square)",y.lowpass,{fadeTime:.3,type:"square"}),new p.SubstractiveSynthetizer("Synthetizer 3 (Classic Sawtooth)",y.lowpass,{fadeTime:.3,type:"sawtooth"}),new p.SubstractiveSynthetizer("Synthetizer 4 (Classic Triangle)",y.lowpass,{fadeTime:.3,type:"triangle"}),new p.CustomSubstractiveSynthetizer("Sine Climb",y.lowpass,{fadeTime:.3},[0,-3,-2,-1,0,1,2,3],[0,-3,0,0,0,0,0,0]),new p.CustomSubstractiveSynthetizer("Organ",y.lowpass,{fadeTime:.01},[0,-3,3,-3,3],[0,0,0,0,0]),new p.CustomSubstractiveSynthetizer("Faded Organ",y.lowpass,{fadeTime:1},[0,-3,3,-3,3],[0,0,0,0,0]),new p.CustomSubstractiveSynthetizer("Classic Synth",y.lowpass,{fadeTime:.3},[0,0,1],[0,1,0]),new p.CustomSubstractiveSynthetizer("Magic Bells",y.lowpass,{fadeTime:.9},[0,0,0,0,0,-3],[0,0,0,0,0,0]),new p.CustomSubstractiveSynthetizer("Low Oscillator 1",y.lowpass,{fadeTime:.3},[1,1,0,0],[1,0,0,0]),new p.CustomSubstractiveSynthetizer("Low Oscillator 2",y.lowpass,{fadeTime:.3},[6,6,0,0],[0,0,0,0],!0),new p.CustomSubstractiveSynthetizer("Horn",y.lowpass,{fadeTime:.3},[0,.4,.4,1,1,1,.3,.7,.6,.5,.9,.8],new Int8Array(12)),new p.FunctionSubstractiveSynthetizer("Creepy Exp Function Synth",y.lowpass,{fadeTime:.3},function(e){return Math.pow(2*Math.PI,e)}),new p.FunctionSubstractiveSynthetizer("Rhods Like",y.notch,{fadeTime:.5},function(e){return 5-e},!1,6),new p.FunctionSubstractiveSynthetizer("DJames Bass 1",y.lowshelf,{fadeTime:.3},function(e){return Math.cos(e)*e*Math.PI},!1,50),new p.CustomSubstractiveSynthetizer("Cheap Strings",y.lowpass,{fadeTime:.7,gain:0},[1.5,.5,1,-1.5,-1,-1.5,-1,-1.5,-1,0,.5,1.3,1,0,-.5,-.5,-.5,-.5,0,.25,.5],new Int8Array(21),!1),new p.FunctionSubstractiveSynthetizer("Negative Pow Function",y.lowpass,{fadeTime:.3},function(e){return Math.pow(e,.9)},!1,20),new p.CustomSubstractiveSynthetizer("Clean Space Synth",y.lowpass,{fadeTime:.5},[0,1,2,3,2,0,0,0],[0,1,2,3,2,0,0,0],!1,5),new p.FunctionSubstractiveSynthetizer("Old School Synth",y.lowpass,{fadeTime:.5},function(e){return e*Math.sin(e)+e*Math.tan(e)},!1,100),new p.FunctionSubstractiveSynthetizer("FlashBack",y.lowpass,{fadeTime:.5},function(e){return Math.tan(e)+Math.pow(e,3)/100},!1,13),new p.FunctionSubstractiveSynthetizer("High Pitched Buzzer",y.lowpass,{fadeTime:.5},function(e){return Math.tan(e)+Math.pow(e,1.2)/10},!1,40)],g={name:"Synthetizers",components:{SynthGraph:u,SynthDetails:f,Card:a},props:{seaboard:{required:!0}},data:function(){return{message:"",synthetizers:v,selected:"",synthetizer:null,subscription:null}},created:function(){var e=this;this.subscription=this.seaboard.subscribeToMessages(function(t){e.synthetizer&&e.synthetizer.handleMessage(t),e.message=t})},methods:{onSelection:function(e){console.log("Synthetizers :: selected",name),this.synthetizer=e}},destroyed:function(){this.seaboard.unsubscribeToMessages(this.subscription)}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-container"},[n("card",{staticClass:"synthetizers",attrs:{title:"Synthetizers"}},[n("div",{staticClass:"synthetizers-list"},e._l(e.synthetizers,function(t){return n("div",{key:t.name,staticClass:"option-light",class:{selected:e.synthetizer===t},on:{click:function(n){e.onSelection(t)}}},[e._v(e._s(t.name))])}))]),e._v(" "),e.synthetizer?n("synth-graph",{attrs:{id:"synth-graph",synth:e.synthetizer}}):e._e(),e._v(" "),e.synthetizer?n("synth-details",{attrs:{synth:e.synthetizer}}):e._e()],1)},staticRenderFns:[]};var m=n("VU/8")(g,b,!1,function(e){n("9gH1")},"data-v-461a6524",null).exports,w=n("RRo+"),C=n.n(w),_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.seaboard?n("svg",{attrs:{width:e.width,height:e.height,viewPort:"0 0 "+e.width+" "+e.height}},[n("rect",{attrs:{width:"100%",height:"100%",fill:"transparent",rx:"10",ry:"10"}}),e._v(" "),e._l(24,function(t){return n("line",{key:t+"-keyline",attrs:{x1:t*(e.width/23),y1:"20",x2:t*(e.width/23),y2:e.height-e.height/5,stroke:"rgba(255, 255, 255, 0.3)","stroke-width":"1"}})}),e._v(" "),e._l([1,3,6,8,10,13,15,18,20,22],function(t){return n("line",{key:t+"-black-keyline",attrs:{x1:t*(e.width/23),y1:"20",x2:t*(e.width/23),y2:e.height/2.5,stroke:"rgba(255, 255, 255, 0.7)","stroke-width":"2"}})}),e._v(" "),e._l(e.seaboard.getCoordinates(),function(t,i){return n("circle",{key:i,attrs:{cx:50*t.x,cy:t.y*(e.height/140),"stroke-width":"1",stroke:"white",fill:"rgb(0, "+t.size+", "+(t.size+40)+")",r:t.size}})})],2):e._e()},staticRenderFns:[]};var S={name:"KeyTracker",components:{Visualizer:n("VU/8")({name:"Visualizer",props:{seaboard:{required:!0}},data:function(){return{height:200,width:1150}},created:function(){var e=this;this.seaboard.subscribeToMessages(function(t){e.$forceUpdate()})}},_,!1,function(e){n("YN5p")},"data-v-9edc4c82",null).exports,Card:a},props:{seaboard:{required:!0}},computed:{octave:function(){var e=this.seaboard.firstKey/this.seaboard.numKeys;return C()(e)||(e+=.5),e-1}}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("card",{staticClass:"visualizer-container"},[t("visualizer",{attrs:{seaboard:this.seaboard}}),this._v(" "),t("p",{staticClass:"keys"},[this._v("C"+this._s(this.octave))])],1)},staticRenderFns:[]};var I=n("VU/8")(S,k,!1,function(e){n("rBCb")},null,null).exports,F={name:"Tracks",components:{Card:a}},M={render:function(){var e=this.$createElement;return(this._self._c||e)("card",{staticClass:"app-container",attrs:{title:"Tracks"}})},staticRenderFns:[]};var q=n("VU/8")(F,M,!1,function(e){n("m5+7")},null,null).exports,z=n("bqWT"),T=n.n(z),x={name:"App",components:{Synthetizers:m,KeyTracker:I,Tracks:q,Card:a},data:function(){return{seaboardInputs:[],selected:null,seaboard:null,compatibleBrowser:s.MIDIController.compatibleBrowser}},created:function(){this.loadSeaboardInputs()},methods:{loadSeaboardInputs:function(){var e=this;s.MIDIController.getInputs().then(function(t){e.seaboardInputs=t})},connect:function(){this.seaboard=new T.a(this.selected),this.seaboard.connect().then(function(e){return console.log(e)}).catch(function(e){return console.error(e)})}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),e.compatibleBrowser?e._e():n("card",{attrs:{title:"Ooops"}},[n("div",{staticClass:"app-error"},[e._v("\n      I'm sorry but unfortunately your browser isn't yet supported by the APIs Surfboard is using! Please try again with a recent Chrome or Chromium version.\n      Thanks!\n    ")])]),e._v(" "),e.seaboardInputs.length&&!e.seaboard?n("card",{staticClass:"midi-input-select",attrs:{title:"Which MIDI Input should we use?"}},[e._l(e.seaboardInputs,function(t,i){return n("div",{key:i,staticClass:"option-light midi-input-option",class:{selected:e.selected===t},on:{click:function(n){e.selected=t}}},[e._v(e._s(t.name)+"\n    ")])}),e._v(" "),e.selected?n("button",{staticClass:"option-dark button",on:{click:e.connect}},[e._v("Connect")]):n("button",{staticClass:"option-dark button",on:{click:e.loadSeaboardInputs}},[e._v("Reload")])],2):e._e(),e._v(" "),!e.seaboardInputs.length&&e.compatibleBrowser?n("div",{staticClass:"midi-input-select",attrs:{title:"No Input Found"}},[e._v("\n    No MIDI Input found, please check the connection and hit "),n("button",{on:{click:e.loadSeaboardInputs}},[e._v("Reload")])]):e._e(),e._v(" "),e.seaboard?n("div",[n("synthetizers",{attrs:{seaboard:e.seaboard}}),e._v(" "),n("key-tracker",{attrs:{seaboard:e.seaboard}})],1):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app-header"}},[t("h3",[this._v("Surfboard")])])}]};var A=n("VU/8")(x,P,!1,function(e){n("6QNt")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:A},template:"<App/>"})},UAuz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionSubstractiveSynthetizer=t.CustomSubstractiveSynthetizer=t.SubstractiveSynthetizer=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("hI7A");function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u={gain:0,fadeTime:.2,type:"sine"},h=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.MIDIController.audioContext;c(this,e),this.name=t,this.configuration=i,this.configuration.gain=this.configuration.gain||0,this.channels={},this.type="classic",this.audioContext=r}return i(e,[{key:"handleMessage",value:function(e){switch(e.type){case"Note ON":this.channels[e.channel]||this.initOscillator(e.note,e.channel),this.message=e,this.channels[e.channel].oscillator.frequency.value=s.MIDIController.noteToFrequency(e.note),this.channels[e.channel].note=e.note;break;case"Note OFF":this.channels[e.channel].startingPosY=null,this.filter.updateFrequency(this.filter.defaultFrequency),this.channels[e.channel].gainNode.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+this.configuration.fadeTime);break;case"Channel Pressure (After-touch)":this.channels[e.channel].gainNode.gain.linearRampToValueAtTime(e.pressure/(128+(this.configuration.gain||0)),this.audioContext.currentTime+.1);break;case"Pitch Bend Change":if(this.channels[e.channel]&&this.channels[e.channel].note){var t=this.channels[e.channel].note+e.pitchBend;isNaN(t)||this.channels[e.channel].oscillator.frequency.exponentialRampToValueAtTime(s.MIDIController.noteToFrequency(t),this.audioContext.currentTime+.1)}break;case"Control change":if(!this.channels[e.channel])break;if(this.channels[e.channel].startingPosY){var n=e.controlChange-this.channels[e.channel].startingPosY;this.filter.updateFrequency(this.filter.defaultFrequency+10*n)}else this.channels[e.channel].startingPosY=e.controlChange}}},{key:"initOscillator",value:function(e,t){var n=s.MIDIController.noteToFrequency(e);this.channels[t]=this.channels[t]||{};var i=this.channels[t].gainNode,r=this.channels[t].oscillator;i||((i=this.audioContext.createGain()).gain.value=0,i.connect(this.filter.biquadFilter),this.channels[t].gainNode=i),r||((r=this.audioContext.createOscillator()).type=this.configuration.type,this.channels[t].oscillator=r,r.connect(i),this.filter.connect(this.audioContext.destination)),r.frequency.value=n,r.start()}}]),e}(),l=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,o=arguments[3],h=arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];c(this,t);var f=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return s.MIDIController.compatibleBrowser&&(f.periodicWave=f.audioContext.createPeriodicWave(o,h,{disableNormalization:l})),f.sin=o,f.cosin=h,f.custom=!0,f.amplitude=Math.max.apply(Math,r(f.sin))||-1*Math.min.apply(Math,r(f.sin)),f.type="custom",f.filter=n,f}return o(t,h),i(t,[{key:"initOscillator",value:function(e,t){var n=s.MIDIController.noteToFrequency(e);this.channels[t]=this.channels[t]||{};var i=this.channels[t].gainNode,r=this.channels[t].oscillator;i||((i=this.audioContext.createGain()).connect(this.filter.biquadFilter),i.gain.value=0,this.channels[t].gainNode=i),r||((r=this.audioContext.createOscillator()).setPeriodicWave(this.periodicWave),r.connect(i),this.channels[t].oscillator=r,this.filter.connect(this.audioContext.destination)),r.frequency.value=n,r.start()}}]),t}(),f=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,s=arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:12;c(this,t);var h=[],l=new Int8Array(o);h[0]=0;for(var f=1;f<o;f++)h.push(s(f));var p=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,h,l,r));return p.function=s,p.type="function",p}return o(t,l),t}();t.SubstractiveSynthetizer=h,t.CustomSubstractiveSynthetizer=l,t.FunctionSubstractiveSynthetizer=f},YN5p:function(e,t){},atbg:function(e,t){},bqWT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("hI7A");var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MIDIPort=t,this.channels={},this.numKeys=24,this.firstKey=0,this.messagesSubscriptions=[]}return i(e,[{key:"connect",value:function(){var e=this;return new Promise(function(t,n){e.MIDIPort.open().then(function(n){n.onmidimessage=function(t){return e.onMessage(t)},t(n)}).catch(function(e){return n(e)})})}},{key:"onMessage",value:function(e){var t=s.MIDIController.parseMessage(e.data);switch(this.channels[t.channel]=this.channels[t.channel]||{posY:0},t.type){case"Note ON":this.updateKeysRange(t.note),this.channels[t.channel].note=t.note;break;case"Note OFF":this.channels[t.channel]={posY:0};break;case"Channel Pressure (After-touch)":this.channels[t.channel].pressure=t.pressure;break;case"Control change":void 0!==this.channels[t.channel].note&&(this.channels[t.channel].posY=t.controlChange);break;case"Pitch Bend Change":this.channels[t.channel].pitchBend=t.pitchBend}this.messagesSubscriptions.length&&this.messagesSubscriptions.forEach(function(e){"function"==typeof e&&e(t)})}},{key:"subscribeToMessages",value:function(e){var t=this.messagesSubscriptions.length;return this.messagesSubscriptions.push(e),t}},{key:"unsubscribeToMessages",value:function(e){this.messagesSubscriptions.splice(e,1)}},{key:"updateKeysRange",value:function(e){if(e>this.firstKey+this.numKeys)for(;e>this.firstKey+this.numKeys;)this.firstKey+=this.numKeys/2;else if(e<this.firstKey)for(;e<this.firstKey;)this.firstKey-=this.numKeys/2}},{key:"getCoordinates",value:function(){var e=[];for(var t in this.channels){var n=this.channels[t],i={};void 0!==n.note&&(n.pitchBend?i.x=n.note+23*n.pitchBend/30-this.firstKey:i.x=n.note-this.firstKey,i.y=125-n.posY,i.size=n.pressure,e.push(i))}return e}}]),e}();t.default=r},"btq/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterTypes=t.Filter=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("hI7A");var r=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.MIDIController.audioContext;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.frequency=n,this.defaultFrequency=n,this.gain=i,this.maxGain=100,this.types=a,this.q=r,this.audioContext=o,this.initBiquadFilter()}return i(e,[{key:"initBiquadFilter",value:function(){this.biquadFilter=this.audioContext.createBiquadFilter(),this.biquadFilter.type=this.type,this.biquadFilter.frequency.value=this.frequency,this.biquadFilter.Q.value=this.q,this.biquadFilter.gain.value=this.gain}},{key:"connect",value:function(e){this.biquadFilter.connect(e)}},{key:"updateType",value:function(e){e&&(this.type=e),this.biquadFilter.type=this.type}},{key:"updateGain",value:function(e){e&&(e>this.maxGain&&(e=this.maxGain),this.gain=e),this.biquadFilter.gain.value=this.gain}},{key:"updateFrequency",value:function(e){e&&(this.frequency=e),this.biquadFilter.frequency.value=this.frequency}},{key:"updateQ",value:function(e){e&&(this.q=e),this.biquadFilter.Q.value=this.q}}]),e}(),a=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];t.Filter=r,t.FilterTypes=a},ceEf:function(e,t){},hI7A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMidiMessage=null,this.audioContext=new(window.AudioContext||window.webkitAudioContext),"function"==typeof navigator.requestMIDIAccess?(console.log("MIDIController :: Compatible browser found"),this.compatibleBrowser=!0):(console.error("No requestMIDIAccess available on your browser. Please use the latest Chrome version."),this.compatibleBrowser=!1)}return i(e,[{key:"requestMIDIAccess",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n,i){e.compatibleBrowser?e.MIDIAccess&&!t?n(e.MIDIAccess):navigator.requestMIDIAccess().then(function(t){e.MIDIAccess=t,e.MIDIAccess.onstatechanged=function(e){return console.warn("MIDIController :: onstatechanged",e)},n(t)}).catch(function(e){return i(e)}):i(new Error("Incompatible browser"))})}},{key:"getInputs",value:function(){var e=this;return new Promise(function(t,n){e.requestMIDIAccess().then(function(e){var n=[];e.inputs.forEach(function(e){return n.push(e)}),t(n)}).catch(function(e){return n(e)})})}},{key:"getInputsByManufacturer",value:function(e){var t=this;return new Promise(function(n,i){t.requestMIDIAccess().then(function(t){var i=[];t.inputs.forEach(function(t){t.manufacturer===e&&i.push(t)}),n(i)}).catch(function(e){return i(e)})})}},{key:"connect",value:function(e){return new Promise(function(t,n){e.open().then(function(e){console.log("MIDIController :: Connection established",e),t(e)}).catch(function(e){return n(e)})})}},{key:"noteToFrequency",value:function(e){return 13.75*Math.pow(2,(e-9)/12)}},{key:"parseMessage",value:function(e){var t={};switch(t.channelVoiceMessage=e[0],t.channel=parseInt(e[0].toString(2).slice(4),2),t.data1=parseInt(e[1].toString(2),2),e.length>2&&(t.data2=parseInt(e[2].toString(2),2)),t.channelVoiceMessage.toString(2).slice(0,4)){case"1000":t.type="Note OFF",t.note=t.data1;break;case"1001":t.type="Note ON",t.note=t.data1;break;case"1010":t.type="Polyphonic key pressure";break;case"1011":t.type="Control change",t.controlChange=t.data2;break;case"1100":t.type="Program change";break;case"1101":t.type="Channel Pressure (After-touch)",t.pressure=t.data1;break;case"1110":t.type="Pitch Bend Change",t.pitchBend=t.data2-64,t.pitchBend=-1!==t.pitchBend?t.pitchBend:0}return t}}]),e}();t.MIDIController=new s},"m5+7":function(e,t){},rBCb:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.db4dc2823632a9f4fdef.js.map